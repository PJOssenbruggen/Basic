df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
type4
df.crit
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
lst2
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
lst2
!is.null(df.crit)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df.crit
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
Q
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
ldlane
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
print(max(tseq[df[,ldcol]] <= 0))
ldcol
df[,ldcol]]
df[,ldcol]
df[,ldcol] <= 0]
df[,ldcol] <= 0
tseq[df[,ldcol] <= 0]
max(tseq[df[,ldcol] <= 0])
class(max(tseq[df[,ldcol] <= 0]))
devtools::load_all(".")
Q
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
print(df.t0)
print(dfseq)
t.0
df[tseq == t.0,fwcol]
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
laneb
tstart
abline(17.25, col = gray(0.8))
abline(v = 17.25, col = gray(0.8))
df
seq(2,nveh, 3)
df2
df
3*nveh
seq(2,3*nveh,3)
df[,xcol]
df[tseq == 17.25,xcol]
xx <- df[tseq == 17.25,xcol]
plot(17.25, xx)
xx <- min(df[tseq == 17.25,xcol])
plot(17.25, xx, cex = 2)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df[tseq == 17.25,xcol]
trng
xx
t.0
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df.fix[,fwcol]
df2.fix[,fwcol]
fwcol
df[,fwcol]
fwcol
xcol
i
col
xcol[i-1]
min(df[tseq == 17.25,xcol])
df2.fix
df2.fix[2] <= 0
df2.fix[,2] <= 0
tseq[df2.fix[,2] <= 0]
t.0
xcol[i-1]
ldcol
t.0.
min(tseq[df2[,ldcol] <= 0])
min(tseq[df[,ldcol] <= 0])
df[,ldcol]
tseq[df[,ldcol] <= 0]
max(tseq[df[,ldcol] <= 0])
max(df[df[,ldcol] <= 0,ldcol])
devtools::load_all(".")
Q
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
t.0.
xx
laneb
df[,fwcol]
lines(tseq,df[,fwcol], col = gray(0.8))
laneb
y
df[,fwcol-1]
tstart
data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y)
ldcol <- xcol[i-1]
df[,fwcol]
t.0. <- max(tseq[df[,ldcol] <= 0])
xx   <- max(df[df[,ldcol] <= 0,ldcol])
points(t.0., xx, cex = 2)
fwcol <- xcol[i]
lines(tseq,df[,fwcol], col = gray(0.8))
y      <- rep(0,tlen)
data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y)
df1df2
as.matrix(merge4(subtitle, df1df2, step, tstart, tend, leff, type4))
lst2       <- as.matrix(merge4(subtitle, df1df2, step, t0, tend, leff, type4))
lst2       <- as.matrix(merge4(subtitle, df1df2, step, t0, tend, leff, type4))
lst2       <- as.matrix(merge4(subtitle, df1df2, step, t0, tend, leff, type4))
lst2
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
lst2       <- as.matrix(merge4(subtitle, df1df2, step, t0, tend, leff, type4))
lines(tseq, lst2[[1]], col = gray(0.8))
lst2[[1]]
lines(lst2[[1]][,3], lst2[[1]][,3], col = gray(0.8))
lines(lst2[[1]][,1], lst2[[1]][,3], col = gray(0), lwd = 2)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
ldcol <- xcol[i-1]
df[,fwcol]
t.0. <- max(tseq[df[,ldcol] <= 0])
xx   <- max(df[df[,ldcol] <= 0,ldcol])
points(t.0., xx, cex = 2)
fwcol <- xcol[i]
lines(tseq,df[,fwcol], col = gray(0.8))
y      <- rep(0,tlen)
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
t0
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
lst2    <- as.matrix(merge4(subtitle, df1df2, step, t0, tend, leff, type4))
i
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df1df2
t0
tend
type4
u23
fixdf2
df
lines(df[,1],df[,8], col = "yellow")
lines(df[,1],df[,8], col = "black")
lines(df[,1],x2, col = "black")
lines(df[,1],df[,8], col = "yellow")
lines(df[,1],x1, col = "black")
lines(df[,1],df[,8], col = "yellow")
lines(df[,1],x1, col = "yellow")
df
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
library(cartools)
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
tstart
t0
df
head(df)
tstart
devtools::load_all(".")
library(cartools)
devtools::document()
library(cartools)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
devtools::document()
library(cartools)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
index.df[index.df[,2] == tstart,1]
tstart
tend
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
lw
up
tend
tstart
index.df
tstart
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
lines(tseq,x2,col = "red", lty = 2)
lines(tseq,x1,col = "orange", lty = 2)
data.frame(x1,x2)
devtools::load_all(".")
library(cartools)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
tlen
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(cartools)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
devtools::load_all(".")
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
tseq
lane
data.frame(i = seq(1:dim(lane)[1]), t = tseq)
lines(tseq,x2,col = "blue", lty = 2)
lines(tseq,x1,col = "brown", lty = 2)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
data.frame(i = seq(1:dim(lane)[1]), t = tseq)
data.frame(i = seq(1:dim(lane)[1]), t = tseq)
lane
tseq
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
length(seq(tstart,tend,step))
dim(df1df2)
tmp    <- length(seq(0,tstart))
df1df2 <- df1df2[-tmp,]
dim(df1df2)
length(seq(0,tstart,step))
tmp    <- length(seq(0,tstart,step))
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
dim(df1df2)
tmp    <- length(seq(0,tstart,step))
df1df2 <- df1df2[-tmp,]
dim(df1df2)
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
tseq. <- seq(0,tstart,step)
tmp    <- length(tseq.)
df1df2 <- df1df2[-tmp,]
dim(df1df2)
tmp
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
browser()
tseq. <- seq(0,tstart,step)
tmp    <- length(tseq.)
df1df2 <- df1df2[-c(1:tmp),]
dim(df1df2)
length(seq(tstart,tend,step))
devtools::load_all(".")
Q
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df1df2  <- df1df2[-c(1:tmp+1),]
print(tmp)
print(dim(df1df2))
print(length(seq(tstart,tend,step)))
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
tmp     <- length(seq(0,tstart,step))
df1df2  <- df1df2[-c(1:tmp+1),]
print(tmp)
print(dim(df1df2))
print(length(seq(tstart,tend,step)))
print(dim(df1df2))
df1df2  <- as.matrix(data.frame(u = df[,ldcol-1], x = df[,ldcol], y, u = df[,fwcol-1], x = df[,fwcol], y))
print(dim(df1df2))
tmp     <- length(seq(0,tstart,step))
df1df2  <- df1df2[-c(1:tmp+1),]
print(tmp)
print(dim(df1df2))
tseq
df1df2  <- as.matrix(data.frame(t = tseq,
u = df[,ldcol-1], x = df[,ldcol], y,
u = df[,fwcol-1], x = df[,fwcol], y))
print(dim(df1df2))
df1df2  <- df1df2[tseq >= tstart,]
print(dim(df1df2))
print(length(seq(tstart,tend,step)))
devtools::load_all(".")
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
dim(df1df2)
length(tseq)
tstart
seq(tstart, tend, step)
length(tseq)
tseq
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
tseq
tseq >= tstart
tseq[tseq >= tstart]
devtools::load_all(".")
library(cartools)
devtools::document()
df <- merge3(subtitle, lst, leff, step, xfunnel, type, ylim)
dim(df1df2)
devtools::load_all(".")
library(cartools)
devtools::document()
lst   <- brktrials3wrapper(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
par(mfrow = c(1,2), pty = "s")
for(veh in 1:(nveh1-1)) {
low    <- 3*(veh-1) + 1
up     <- 3*(veh-1) + 6
print(c(low:up))
df1df2 <- lane1[,c(low:up)]
tstart <- 0
lane1.fix <- merge4("Lane 1", df1df2, step, tstart, tend, leff, TRUE)
low    <- 3*veh + 1
up     <- 3*veh + 3
print(c(low:up))
lane1[,c(low:up)] <- lane1.fix[,-1]
}
pdf(file = "/Users/PJO/Desktop/DesireLines.pdf")
par(mfrow = c(2,2), pty = "s")
lst   <- brktrials3(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
lane1 <- lst[[1]]
lane2 <- lst[[2]]
dev.off()
dev.off()
dev.off()
dev.off()
par(mfrow = c(2,2), pty = "s")
lst   <- brktrials3(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
lane1 <- lst[[1]]
lane2 <- lst[[2]]
par(mfrow = c(1,2), pty = "s")
for(veh in 1:(nveh1-1)) {
low    <- 3*(veh-1) + 1
up     <- 3*(veh-1) + 6
print(c(low:up))
df1df2 <- lane1[,c(low:up)]
tstart <- 0
lane1.fix <- merge4("Lane 1", df1df2, step, tstart, tend, leff, TRUE)
low    <- 3*veh + 1
up     <- 3*veh + 3
print(c(low:up))
lane1[,c(low:up)] <- lane1.fix[,-1]
}
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
devtools::load_all(".")
library(cartools)
dev.off()
dev.off()
par(mfrow = c(2,2), pty = "s")
lst   <- brktrials3(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
lane1 <- lst[[1]]
lane2 <- lst[[2]]
par(mfrow = c(1,2), pty = "s")
for(veh in 1:(nveh1-1)) {
low    <- 3*(veh-1) + 1
up     <- 3*(veh-1) + 6
print(c(low:up))
df1df2 <- lane1[,c(low:up)]
tstart <- 0
lane1.fix <- merge4("Lane 1", df1df2, step, tstart, tend, leff, TRUE)
low    <- 3*veh + 1
up     <- 3*veh + 3
print(c(low:up))
lane1[,c(low:up)] <- lane1.fix[,-1]
}
devtools::load_all(".")
devtools::load_all(".")
library(cartools)
devtools::document()
par(mfrow = c(2,2), pty = "s")
lst   <- brktrials3(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
lane1 <- lst[[1]]
lane2 <- lst[[2]]
par(mfrow = c(1,2), pty = "s")
for(veh in 1:(nveh1-1)) {
low    <- 3*(veh-1) + 1
up     <- 3*(veh-1) + 6
print(c(low:up))
df1df2 <- lane1[,c(low:up)]
tstart <- 0
lane1.fix <- merge4("Lane 1", df1df2, step, tstart, tend, leff, TRUE)
low    <- 3*veh + 1
up     <- 3*veh + 3
print(c(low:up))
lane1[,c(low:up)] <- lane1.fix[,-1]
}
devtools::load_all(".")
library(cartools)
devtools::document()
lst   <- brktrials3(nveh1, nveh2, umn,  tstart, tend, xstart1, xstart2, step, type, leff, xfunnel, u_sd)
lane1 <- lst[[1]]
lane2 <- lst[[2]]
par(mfrow = c(1,2), pty = "s")
for(veh in 1:(nveh1-1)) {
low    <- 3*(veh-1) + 1
up     <- 3*(veh-1) + 6
print(c(low:up))
df1df2 <- lane1[,c(low:up)]
tstart <- 0
lane1.fix <- merge4("Lane 1", df1df2, step, tstart, tend, leff, TRUE)
low    <- 3*veh + 1
up     <- 3*veh + 3
print(c(low:up))
lane1[,c(low:up)] <- lane1.fix[,-1]
}
devtools::load_all(".")
devtools::load_all(".")
